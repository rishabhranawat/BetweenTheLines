<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="../../../../node_modules/datamaps/dist/datamaps.usa.min.js"></script>
<div id="container" style="position: relative; width: 100%; height: 100%;"></div>
<script>
var labelData = {"MA": "68.75%", "VI": "Tie", "NH": "62.5%", "CT": "56.52%", "AL": "79.31%", "DE": "55.56%", "LA": "62.5%", "HI": "90.91%", "WA": "77.05%", "NC": "55.71%", "SC": "52.94%", "ME": "55.56%", "VA": "50.85%", "OR": "77.78%", "FL": "74.0%", "NV": "72.0%", "MH": "Tie", "GU": "Tie", "GA": "56.52%", "PA": "53.95%", "AS": "Tie", "MD": "65.22%", "TN": "71.11%", "FM": "Tie", "IA": "85.71%", "MT": "55.56%", "NE": "57.14%", "MN": "59.09%", "MI": "50.98%", "IN": "52.63%", "ID": "63.64%", "KY": "76.0%", "UT": "50.0%", "OH": "64.79%", "MO": "72.73%", "RI": "83.33%", "CO": "61.9%", "AZ": "53.57%", "WI": "61.54%", "WY": "66.67%", "CA": "61.28%", "PW": "Tie", "MS": "87.5%", "NY": "60.5%", "MP": "Tie", "SD": "50.0%", "NJ": "61.67%", "TX": "56.65%", "VT": "75.0%", "PR": "Tie", "ND": "100.0%", "DC": "Tie", "OK": "75.0%", "KS": "54.55%", "AK": "57.14%", "WV": "57.14%", "NM": "56.25%", "IL": "57.28%", "AR": "70.0%"};
  var map = new Datamap({
        element: document.getElementById('container'),
        scope: 'usa',
        geographyConfig: {
    		highlightBorderColor: '#bada55',
   			popupTemplate: function(geography, data) {
   				var x = '<div class="hoverinfo">' + geography.properties.name + '<p>'+'Left:'+data.left+'% </p>'+'<p>'+'Right:'+data.right+'% </p>' + ' '
   				return x
    		},
    		highlightBorderWidth: 3
  		},
        fills: {
		  'Republican': '#CC4731',
		  'Democrat': '#306596',
		  'Heavy Democrat': '#667FAF',
		  'Light Democrat': '#A9C0DE',
		  'Heavy Republican': '#CA5E5B',
		  'Light Republican': '#EAA9A8',
		  defaultFill: '#EDDC4E'
		},
		data:{"RI": {"right": 16.67, "left": 83.33, "fillKey": "Democrat"}, "UT": {"right": 50.0, "left": 50.0, "fillKey": "UNDECIDED"}, "MH": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "GA": {"right": 56.52, "left": 43.48, "fillKey": "Republican"}, "OK": {"right": 75.0, "left": 25.0, "fillKey": "Republican"}, "KY": {"right": 76.0, "left": 24.0, "fillKey": "Republican"}, "FM": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "FL": {"right": 74.0, "left": 26.0, "fillKey": "Republican"}, "AS": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "NY": {"right": 39.5, "left": 60.5, "fillKey": "Democrat"}, "WI": {"right": 38.46, "left": 61.54, "fillKey": "Democrat"}, "VA": {"right": 50.85, "left": 49.15, "fillKey": "Republican"}, "AK": {"right": 57.14, "left": 42.86, "fillKey": "Republican"}, "PA": {"right": 46.05, "left": 53.95, "fillKey": "Democrat"}, "AR": {"right": 70.0, "left": 30.0, "fillKey": "Republican"}, "TX": {"right": 56.65, "left": 43.35, "fillKey": "Republican"}, "OR": {"right": 22.22, "left": 77.78, "fillKey": "Democrat"}, "ME": {"right": 44.44, "left": 55.56, "fillKey": "Democrat"}, "IA": {"right": 14.29, "left": 85.71, "fillKey": "Democrat"}, "NV": {"right": 72.0, "left": 28.0, "fillKey": "Republican"}, "CA": {"right": 38.72, "left": 61.28, "fillKey": "Democrat"}, "NC": {"right": 44.29, "left": 55.71, "fillKey": "Democrat"}, "MI": {"right": 50.98, "left": 49.02, "fillKey": "Republican"}, "PW": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "KS": {"right": 45.45, "left": 54.55, "fillKey": "Democrat"}, "MA": {"right": 31.25, "left": 68.75, "fillKey": "Democrat"}, "MS": {"right": 87.5, "left": 12.5, "fillKey": "Republican"}, "NE": {"right": 42.86, "left": 57.14, "fillKey": "Democrat"}, "PR": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "MP": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "VT": {"right": 25.0, "left": 75.0, "fillKey": "Democrat"}, "MO": {"right": 72.73, "left": 27.27, "fillKey": "Republican"}, "NJ": {"right": 61.67, "left": 38.33, "fillKey": "Republican"}, "SC": {"right": 47.06, "left": 52.94, "fillKey": "Democrat"}, "WY": {"right": 66.67, "left": 33.33, "fillKey": "Republican"}, "CO": {"right": 38.1, "left": 61.9, "fillKey": "Democrat"}, "AZ": {"right": 53.57, "left": 46.43, "fillKey": "Republican"}, "DC": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "LA": {"right": 62.5, "left": 37.5, "fillKey": "Republican"}, "NH": {"right": 62.5, "left": 37.5, "fillKey": "Republican"}, "OH": {"right": 64.79, "left": 35.21, "fillKey": "Republican"}, "IL": {"right": 42.72, "left": 57.28, "fillKey": "Democrat"}, "DE": {"right": 55.56, "left": 44.44, "fillKey": "Republican"}, "WA": {"right": 22.95, "left": 77.05, "fillKey": "Democrat"}, "SD": {"right": 50.0, "left": 50.0, "fillKey": "UNDECIDED"}, "MD": {"right": 34.78, "left": 65.22, "fillKey": "Democrat"}, "NM": {"right": 56.25, "left": 43.75, "fillKey": "Republican"}, "MN": {"right": 40.91, "left": 59.09, "fillKey": "Democrat"}, "IN": {"right": 47.37, "left": 52.63, "fillKey": "Democrat"}, "ID": {"right": 63.64, "left": 36.36, "fillKey": "Republican"}, "TN": {"right": 71.11, "left": 28.89, "fillKey": "Republican"}, "AL": {"right": 79.31, "left": 20.69, "fillKey": "Republican"}, "HI": {"right": 90.91, "left": 9.09, "fillKey": "Republican"}, "ND": {"right": 100.0, "left": 0.0, "fillKey": "Republican"}, "MT": {"right": 44.44, "left": 55.56, "fillKey": "Democrat"}, "WV": {"right": 42.86, "left": 57.14, "fillKey": "Democrat"}, "GU": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "VI": {"right": 0, "left": 0, "fillKey": "UNDECIDED"}, "CT": {"right": 56.52, "left": 43.48, "fillKey": "Republican"}}
    });
map.labels({'customLabelText': labelData, 'fontSize': 13});
</script>

